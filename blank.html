<!DOCTYPE html>
<html>
    <body>
            <script>

                const options = ['rock', 'paper', 'scissors']
                const computerPlay= () => {
                    let computerChoice = Math.floor(Math.random() * 3);
                    return options[computerChoice];
                }

                const playRound = (playerSelection, computerSelection) => {
                if(playerSelection === 'rock') {
                switch(computerSelection) {
                    case 'paper':
                        return {
                            winner: 'Computer',
                            message: "You Lose! Paper beats Rock."
                        }
                    case 'scissors':
                        return {
                            winner: 'Player',
                            message: "You Win! Rock beats Scissors."
                        }
                    default:
                        return {
                            winner: 'Draw',
                            message: "Draw. You both chose Rock."
                        }
                
                }
            }
                
                else if(playerSelection === 'paper') {
                switch(computerSelection) {
                    case 'scissors':
                        return {
                            winner: 'Computer',
                            message: "You Lose! Scissors beats Paper."
                        }
                    case 'rock':
                        return {
                            winner: 'Player',
                            message: "You Win! Paper beats Rock."
                        }
                    default:
                        return {
                            winner: 'Draw',
                            message: "Draw. You both chose Paper."
                        }
                }
            }
                else if(playerSelection === 'scissors') {
                switch(computerSelection) {
                    case 'paper':
                        return {
                            winner: 'Player',
                            message: "You Win! Scissors beats Paper."
                        }
                    case 'rock':
                        return {
                            winner: 'Computer',
                            message: "You Lose! Rock beats Scissors."
                        }
                    default:
                        return {
                            winner: 'Draw',
                            message: "Draw. You both chose Scissors."
                        }
                }
            }
                }
            
            const getPlayerInput = () => {
                let playerInput = '';
                while(!playerInput || playerInput.trim().length === 0 || !options.includes(playerInput.toLowerCase())) {
                    playerInput = prompt("Please enter either 'Rock', 'Paper', or 'Scissors'");
                }
                return playerInput.toLowerCase();
            }

            const game = () => {
                let i = 0;
                let playersScore = 0;
                let computerScore = 0;
                let numberOfDraws = 0;
                while(i < 5) {
                    let playerChoice = getPlayerInput()
                    
                    let result = playRound(playerChoice, computerPlay());

                    if(result.winner === 'Player') {
                        console.log(result.message);
                        playersScore++;
                    }
                    else if(result.winner === 'Computer') {
                        console.log(result.message);
                        computerScore++;
                    }
                    else {
                        console.log(result.message);
                        numberOfDraws++;
                    }

                    i++;
                }
                playersScore === computerScore ? console.log("Draw. Try again.") : playerScore > computerScore ? console.log(`Congratulations! You beat the computer! Score: ${playersScore} - ${computerScore} - ${numberOfDraws}`) : console.log(`Sorry, you have lost! ${playersScore} - ${computerScore} - ${numberOfDraws}`)
            }

            game()

            </script>
    </body>
</html>